# Agent Schema - UWS RWF Enhancement
# Validates agent registry and active agent files

schema_version: "2.0"
description: "Agent definition and state schema"

# Valid agent names
valid_agents:
  - researcher
  - architect
  - implementer
  - experimenter
  - optimizer
  - deployer
  - documenter

# Registry entry requirements
registry_entry:
  required:
    - name
    - description
    - capabilities
    - primary_skills
    - workspace
  types:
    name: "string"
    description: "string"
    icon: "string"
    capabilities: "array"
    adapts_to: "array"
    primary_skills: "array"
    workspace: "string"

# Active agent state requirements
active_state:
  required:
    - name
    - activated_at
    - status
  types:
    name: "string"
    activated_at: "iso8601"
    status: "string"
    workspace: "string"
    current_task: "string_or_null"
  patterns:
    status: "^(active|inactive|suspended)$"

# Agent transition rules
transitions:
  researcher:
    allowed_next:
      - architect
      - implementer
      - documenter
  architect:
    allowed_next:
      - implementer
      - documenter
  implementer:
    allowed_next:
      - experimenter
      - optimizer
      - documenter
  experimenter:
    allowed_next:
      - optimizer
      - deployer
      - documenter
  optimizer:
    allowed_next:
      - deployer
      - experimenter
      - documenter
  deployer:
    allowed_next:
      - documenter
  documenter:
    allowed_next:
      - researcher
      - architect
      - implementer
